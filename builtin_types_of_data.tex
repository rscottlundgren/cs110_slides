\documentclass[8pt,a4paper,compress,handout]{beamer}

\usepackage{/home/siyer/lib/slides}

\title{Built-in Types of Data}
\date{}

\begin{document}
\begin{frame}
\begin{flushright}
\tiny \textsc{Programming is usually taught by examples. \\ - Niklaus Wirth}
\end{flushright}
\titlepage
\end{frame}

\begin{frame}
\frametitle{Outline}
\tableofcontents
\end{frame}

\section{Types}
\begin{frame}[fragile]
A \emph{data type} is set of values and a set of operations defined on those values.

\bigskip

Python's built-in data types include \lstinline{int} (for integers), \lstinline{float} (for floating-point numbers), \lstinline{str} (for sequences of characters), and \lstinline{bool} (for true-false values).

\bigskip

Python also allows you to compose your own data types.
\end{frame}

\section{Definitions}
\begin{frame}[fragile]
A \emph{literal} is a Python-code representation of a data-type value. For example, \lstinline{1234} and \lstinline{99} are \lstinline{int} literals; \lstinline{3.14159} and \lstinline{2.71828} are \lstinline{float} literals; \lstinline{True} and \lstinline{False} are \lstinline{bool} literals; \lstinline{'Hello, World'} is a \lstinline{str} literal.

\bigskip

An \emph{operator} is a Python-code representation of a data-type operation. For example, \lstinline{+} and \lstinline{*} represent addition and multiplication for integers and floating-point numbers; \lstinline{and}, \lstinline{or}, and \lstinline{not} represent boolean operations.

\bigskip

An \emph{identifier} is a Python-code representation of a name. Each identifier is a sequence of letters, digits, and underscores, the first of which is not a digit. For example, \lstinline{abc}, \lstinline{Ab_}, \lstinline{abc123}, and \lstinline{a_b} are valid identifiers, but \lstinline{Ab*}, \lstinline{1abc}, and \lstinline{a+b} are not.

\bigskip

Certain \emph{keywords}, such as \lstinline{and}, \lstinline{import}, \lstinline{in}, \lstinline{def}, \lstinline{while}, \lstinline{from}, and \lstinline{lambda}, are reserved, and you cannot use them as identifiers. Other names, such as \lstinline{int}, \lstinline{sum}, \lstinline{min}, \lstinline{max}, \lstinline{len}, \lstinline{id}, \lstinline{file}, and \lstinline{input}, have special meaning, so it is best not to use them, either.
\end{frame}

\begin{frame}[fragile]
A \emph{variable} is a name associated with a data-type value. For example, the variable \lstinline{total} might represent the running total of a sequence of numbers.

\bigskip

A \emph{constant variable} describes a variable whose associated data-type value does not change during the execution of a program. For example, the variables \lstinline{SPEED_OF_LIGHT} and \lstinline{DARK_RED} might represent the speed of light and a dark shade of red, respectively.

\bigskip

An \emph{expression} is a combination of literals, variables, and operators that Python evaluates to produce a value. For example, \lstinline{4 * (x - 3)} is an expression.

\bigskip

Python has a natural and well-defined set of \emph{precedence rules} that fully specify the order in which the operators are applied in an expression. 
\begin{itemize}
\item For arithmetic operations, multiplication and division are performed before addition and subtraction. 

\item When arithmetic operations have the same precedence, they are \emph{left associative}, with the exception of the exponentiation operator \lstinline{**}, which is \emph{right associative}.

\item You can use parentheses to override precedence rules. 
\end{itemize} 
\end{frame}

\begin{frame}[fragile]
We use an \emph{assignment statement} to define a variable and associate it with a data-type value.
\begin{lstlisting}[language={}]
<variable> = <value>
\end{lstlisting}
For exampe, the statement 
\begin{lstlisting}[language=Python]
a = 1234
\end{lstlisting}
defines an identifier \lstinline{a} to be a new variable and associates it with the integer data-type value \lstinline{1234}.

\bigskip

All data values in Python are represented by \emph{objects}, each characterized by its \emph{identity} (or \emph{memory address}), \emph{type}, and \emph{value}.

\bigskip

An \emph{object reference} is a concrete representation of the object's identity.
\end{frame}

\begin{frame}[fragile]
Consider the following code that \emph{exchanges} \lstinline{a} and \lstinline{b} (more precisely, the objects bound to \lstinline{a} and \lstinline{b}):

\begin{lstlisting}[language=Python]
t = a
a = b
b = t
\end{lstlisting}

The object-level trace for the above code is shown below:
\begin{center}
\includegraphics[scale=0.25]{figures/object_level_trace.png}

\smallskip

\tiny Exchanging two variables
\end{center}

\end{frame}

\section{Strings}
\begin{frame}[fragile]
The \lstinline{str} data type represents strings (sequences of characters), for use in text processing.

\bigskip

A \lstinline{str} literal is specified by enclosing a sequence of characters in matching single quotes. For example, \lstinline{'ab'}.

\bigskip

You can specify tab, newline, backslash, and single quote characters using \emph{escape sequences} \lstinline{'\t'}, \lstinline{'\n'}, \lstinline{'\\'}, and \lstinline{'\''}, respectively.

\bigskip

You can concatenate two strings using the \lstinline{+} operator. For example, the expression \lstinline{'123' + '456'} evaluates to the \lstinline{str} object whose value is \lstinline{'123456'}.

\bigskip

You can multiply a \lstinline{str} object $s$ by a number $n$ to obtain a \lstinline{str} object whose value is the string $s$ repeated $n$ times. For example, the expressions \lstinline{3 * 'ab'} and \lstinline{'ab' * 3} evaluate to the \lstinline{str} object whose value is \lstinline{'ababab'}.

\bigskip

The \lstinline{str} data type:

\begin{center}
\begin{tabular}{c|c}
values & sequences of characters \\ 
typical literals & \lstinline$'Hello, World'$, \lstinline$'Python\'s'$ \\ 
operations & concatenate, multiply \\
operators & \lstinline$+$, \lstinline$*$
\end{tabular} 
\end{center}
\end{frame}

\begin{frame}[fragile]
\begin{framed}
\tiny ruler.py: The ruler function $R(n)$ is the exponent of the largest power of 2 which 
divides $2n$. The $i$th row in the output lists the values of $R(n)$ for $n=1,2,
\dots,2^i-1$.
\end{framed}

\begin{lstlisting}[language=Python]
import stdio

ruler1 = '1'
ruler2 = ruler1 + ' 2 ' + ruler1
ruler3 = ruler2 + ' 3 ' + ruler2
ruler4 = ruler3 + ' 4 ' + ruler3
stdio.writeln(ruler1)
stdio.writeln(ruler2)
stdio.writeln(ruler3)
stdio.writeln(ruler4)
\end{lstlisting}

\begin{lstlisting}[language={}]
$ python ruler.py 
1
1 2 1
1 2 1 3 1 2 1
1 2 1 3 1 2 1 4 1 2 1 3 1 2 1
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
The built-in function \lstinline{str()} can be used to convert numbers into strings. For example, \lstinline{str(123)} evaluates to the \lstinline{str} object \lstinline{'123'}, and \lstinline{str(123.45)} evaluates to the \lstinline{str} object \lstinline{'123.45'}.

\bigskip

The built-in functions \lstinline{int()} and \lstinline{float()} can be used to convert strings to numbers. For example, \lstinline{int('123')} is equivalent to the \lstinline{int} literal \lstinline{123}, and \lstinline{float('123.45')} is equivalent to the \lstinline{float} literal \lstinline{123.45}.
\end{frame}

\section{Integers}
\begin{frame}[fragile]
The \lstinline{int} data type represents integers or natural numbers. 

\bigskip

We can specify an \lstinline{int} literal with a sequence of digits \lstinline{0} through \lstinline{9}.

\bigskip

Python includes operators for common arithmetic operations on integers, including \lstinline{+} for addition, \lstinline{-} for subtraction, \lstinline{*} for multiplication, \lstinline{//} for floored division, \lstinline{%} for remainder, and \lstinline{**} for exponentiation.

\bigskip

The \lstinline{int} data type:

\begin{center}
\begin{tabular}{c|c}
values & integers \\
typical literals & \lstinline$1234$, \lstinline$99$, \lstinline$0$, \lstinline$1000000$ \\ 
operations & sign, add, subtract, multiply, floored divide, remainder, power \\
operators & \lstinline$+$ \lstinline$-$, \lstinline$+$, \lstinline$-$, \lstinline$*$, \lstinline$//$, \lstinline$%$, \lstinline$**$
\end{tabular} 
\end{center}

\end{frame}

\begin{frame}[fragile]
\begin{framed}
\tiny intops.py: Accept two integers $a$ and $b$ as command-line arguments, perform integer operations on them, and write the results to standard output.
\end{framed}

\begin{lstlisting}[language=Python]
import stdio
import sys

a = int(sys.argv[1])
b = int(sys.argv[2])
total = a +  b
diff  = a -  b
prod  = a *  b
quot  = a // b
rem   = a %  b
exp   = a ** b
stdio.writeln(str(a) + ' +  ' + str(b) + ' = ' + str(total))
stdio.writeln(str(a) + ' -  ' + str(b) + ' = ' + str(diff))
stdio.writeln(str(a) + ' *  ' + str(b) + ' = ' + str(prod))
stdio.writeln(str(a) + ' // ' + str(b) + ' = ' + str(quot))
stdio.writeln(str(a) + ' %  ' + str(b) + ' = ' + str(rem))
stdio.writeln(str(a) + ' ** ' + str(b) + ' = ' + str(exp))
\end{lstlisting}

\begin{lstlisting}[language={}]
$ python intops.py 1234 5
1234 +  5 = 1239
1234 -  5 = 1229
1234 *  5 = 6170
1234 // 5 = 246
1234 %  5 = 4
1234 ** 5 = 2861381721051424
\end{lstlisting}
\end{frame}

\section{Floating-point Numbers}
\begin{frame}[fragile]
The \lstinline{float} data type represents \emph{floating-point} numbers, for use in scientific and commercial applications.

\bigskip

We can specify a floating-point literal using a sequence of digits with a decimal point. For example, \lstinline{3.14159} represents an approximation to $\pi$.

\bigskip

Alternatively, we can use a notation similar to scientific notation: the literal \lstinline{6.022e23} represents the number $6.022 \times 10^{23}$.

\bigskip

Python includes operators for common arithmetic operations on floating-point numbers, including \lstinline{+} for addition, \lstinline{-} for subtraction, \lstinline{*} for multiplication, \lstinline{/} for division, and \lstinline{**} for exponentiation.

\bigskip

The \lstinline{float} data type:

\begin{center}
\begin{tabular}{c|c}
values & real numbers \\
typical literals & \lstinline$3.14159$, \lstinline$6.022e23$, \lstinline$2.0$, \lstinline$1.4142135623730951$ \\ 
operations & sign, add, subtract, multiply, divide, power \\
operators & \lstinline$+$ \lstinline$-$, \lstinline$+$, \lstinline$-$, \lstinline$*$, \lstinline$/$, \lstinline$**$
\end{tabular} 
\end{center}
\end{frame}

\begin{frame}[fragile]
\begin{framed}
\tiny floatops.py: Accept two floats $a$ and $b$ as command-line arguments, perform floating-point operations on them, and write the results to standard output.
\end{framed}

\begin{lstlisting}[language=Python]
import stdio
import sys

a = float(sys.argv[1])
b = float(sys.argv[2])
total = a + b
diff  = a - b
prod  = a * b
quot  = a / b
exp   = a ** b
stdio.writeln(str(a) + ' +  ' + str(b) + ' = ' + str(total))
stdio.writeln(str(a) + ' -  ' + str(b) + ' = ' + str(diff))
stdio.writeln(str(a) + ' *  ' + str(b) + ' = ' + str(prod))
stdio.writeln(str(a) + ' /  ' + str(b) + ' = ' + str(quot))
stdio.writeln(str(a) + ' ** ' + str(b) + ' = ' + str(exp))
\end{lstlisting}

\begin{lstlisting}[language={}]
$ python floatops.py 123.456 78.9
123.456 +  78.9 = 202.356
123.456 -  78.9 = 44.556
123.456 *  78.9 = 9740.6784
123.456 /  78.9 = 1.5647148289
123.456 ** 78.9 = 1.04788279167e+165
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\begin{framed}
\tiny quadratic.py: Accept floats $b$ and $c$ as command-line arguments, compute the the roots of the polynomial $x^2 + bx + c$ using the quadratic formula $x=(-b\pm \sqrt{b^2-4c})/2$, and write the roots to standard output.
\end{framed}

\begin{lstlisting}[language=Python]
import math
import stdio
import sys

b = float(sys.argv[1])
c = float(sys.argv[2])
discriminant = b * b - 4.0 * c
d = math.sqrt(discriminant)
stdio.writeln((-b + d) / 2.0)
stdio.writeln((-b - d) / 2.0)
\end{lstlisting}

\begin{lstlisting}[language={}]
$ python quadratic.py -3.0 2.0
2.0
1.0
$ python quadratic.py -1.0 -1.0
1.61803398875
-0.61803398875
$ python quadratic.py 1.0 1.0
Traceback (most recent call last):
  File "quadratic.py", line 17, in <module>
    d = math.sqrt(discriminant)
ValueError: math domain error
\end{lstlisting}
\end{frame}

\section{Booleans}
\begin{frame}[fragile]
The \lstinline{bool} data type represents \emph{truth values} (\emph{true} or \emph{false}) from logic. 

\bigskip

The two \lstinline{bool} literals are represented as \lstinline{True} and \lstinline{False}.

\bigskip

The operators defined for \lstinline{bool} objects, namely \lstinline{and}, \lstinline{or}, and \lstinline{not}, are known as \emph{logical operators}, and having the following truth tables:

\begin{center}
\begin{tabular}{cc|c}
\lstinline$x$ & \lstinline$y$ & \lstinline$x and y$ \\ \hline
\lstinline$False$ & \lstinline$False$ & \lstinline$False$ \\
\lstinline$False$ & \lstinline$True$ & \lstinline$False$ \\
\lstinline$True$ & \lstinline$False$ & \lstinline$False$ \\
\lstinline$True$ & \lstinline$True$ & \lstinline$True$
\end{tabular}\hspace{1cm} \begin{tabular}{cc|c}
\lstinline$x$ & \lstinline$y$ & \lstinline$x or y$ \\ \hline
\lstinline$False$ & \lstinline$False$ & \lstinline$False$ \\
\lstinline$False$ & \lstinline$True$ & \lstinline$True$ \\
\lstinline$True$ & \lstinline$False$ & \lstinline$True$ \\
\lstinline$True$ & \lstinline$True$ & \lstinline$True$
\end{tabular}\hspace{1cm} \begin{tabular}{c|c}
\lstinline$x$ & \lstinline$not x$ \\ \hline
\lstinline$False$ & \lstinline$True$ \\
\lstinline$True$ & \lstinline$False$
\end{tabular}
\end{center}

\bigskip

The \lstinline{bool} data type:

\begin{center}
\begin{tabular}{c|c}
values & true, false \\ 
typical literals & \lstinline$True$, \lstinline$False$ \\ 
operations & and, or, not \\
operators & \lstinline$and$, \lstinline$or$, \lstinline$not$
\end{tabular} 
\end{center}
\end{frame}

\begin{frame}[fragile]
The \emph{comparison operators} \lstinline{==}, \lstinline{!=}, \lstinline{<}, \lstinline{<=}, \lstinline{>}, and \lstinline{>=} are defined for both integers and floats, and evaluate to a boolean result. For example, \lstinline{2 == 2} evaluates to \lstinline{True}, \lstinline{2 == 3} evaluates to \lstinline{False}, \lstinline{2 < 13} evaluates to \lstinline{True}. 

\bigskip

Comparison operators have lower precedence than arithmetic operators and higher precedence than boolean operators, so you do not need the parentheses in an expression like \lstinline{(b * b - 4.0 * a * c) >= 0.0}.
\end{frame}

\begin{frame}[fragile]
\begin{framed}
\tiny leapyear.py: Accept an integer $year$ as command-line argument, and write \lstinline{True} to standard output if $year$ is a leap year and \lstinline{False} otherwise. 
\end{framed}

\begin{lstlisting}[language=Python]
import stdio
import sys

year = int(sys.argv[1])
isLeapYear = (year % 4 == 0)
isLeapYear = isLeapYear and (year % 100 != 0)
isLeapYear = isLeapYear or  (year % 400 == 0)
stdio.writeln(isLeapYear)
\end{lstlisting}

\begin{lstlisting}[language={}]
$ python leapyear.py 2016
True
$ python leapyear.py 1900
False
$ python leapyear.py 2000
True
\end{lstlisting}
\end{frame}

\section{Functions and APIs}
\begin{frame}[fragile]
Many programming tasks involve using not only built-in operators, but also \emph{functions} that perform useful operations. We consider three kinds of functions: 
\begin{enumerate}
\item \emph{built-in functions} (such as \lstinline{int()}, \lstinline{float()}, and \lstinline{str()}) that you can use directly in any Python program; 

\item \emph{standard functions} (such as \lstinline{math.sqrt()}) that are defined in a Python standard module and are available in any program that imports the module; and 

\item \emph{user-defined functions} (such as \lstinline{stdio.write()} and \lstinline{stdio.writeln()}) that are defined in third-party modules.
\end{enumerate}

\bigskip

You can call a function in your code by typing its name followed by \emph{arguments} (which are just expressions), enclosed in parentheses and separated by commas. For example, \lstinline{math.sqrt(2.0)}.

\bigskip

When Python executes your program, we say that it \emph{calls} (or \emph{evaluates}) the function with the given arguments.

\bigskip

A function call that \emph{returns a value} is an expression, so you can use it in the same way that you use variables and literals to build up more complicated expressions. For example, \lstinline{math.sin(x) * math.cos(y)}. 

\bigskip

A function call that does not return a value, but has a \emph{side effect}, can only be used as a \emph{statement}. For example, \lstinline{stdio.writeln('Hello, World')}.
\end{frame}

\begin{frame}[fragile]
We summarize functions in a table called the \emph{application programming interface} (API), the first column of which specifies the information you need to use the function, including its name and argument list, and the second column describes its purpose.

\smallskip

Built-in functions:

\begin{center}
\begin{tabular}{cc}
function call & description \\ \hline
\lstinline$abs(x)$ & absolute value of $x$ \\
\lstinline$max(a, b)$ & maximum value of $a$ and $b$ \\
$\dots$ & $\dots$
\end{tabular} 
\end{center}

\smallskip

Standard functions from Python's \lstinline{math} and \lstinline{random} modules:

\begin{center}
\begin{tabular}{cc}
function call & description \\ \hline
\lstinline$math.sin(x)$ & sine of $x$ (expressed in radians) \\
\lstinline$math.cos(x)$ & cosine of $x$ (expressed in radians) \\
$\dots$ & $\dots$
\end{tabular} 

\begin{tabular}{cc}
function call & description \\ \hline
\lstinline$random.random()$ & a random float from the real interval $[0, 1)$ \\
\lstinline$random.randrange(x, y)$ & a random integer from the integer interval $[x, y)$ \\
$\dots$ & $\dots$
\end{tabular} 
\end{center}

\smallskip

User-defined functions from the \lstinline{stdio} module:

\begin{center}
\begin{tabular}{cc}
function call & description \\ \hline
\lstinline$stdio.write(x)$ & write $x$ to standard output \\
\lstinline$stdio.writeln(x)$ & write $x$ to standard output, followed by a newline \\
$\dots$ & $\dots$
\end{tabular} 
\end{center}
\end{frame}

\section{Type Conversion}
\begin{frame}[fragile]
We can use built-in functions \lstinline{int()}, \lstinline{float()}, \lstinline{str()}, and \lstinline{round()} to \emph{explicitly} convert from strings to integers or floats, and vice versa.

\bigskip

Python also supports \emph{implicit conversion} (aka \emph{automatic promotion} or \emph{coercion}). For example, you can use an integer where a float is expected, as in \lstinline{math.sqrt(4)}, which evaluates to \lstinline{2.0}.
\end{frame}

\section{Interactive Python}
\begin{frame}[fragile]
You can use Python as a calculator, directly. To do so, issue the command \lstinline{python} in your terminal window. 

\begin{lstlisting}[language={}]
$ python
...
>>> 1 + 2
3
>>> a = 1
>>> b = 2
>>> a + b
3
>>> import math
>>> math.sqrt(2.0)
1.4142135623730951
>>> math.e
2.718281828459045
\end{lstlisting}

\bigskip

You can type \lstinline{dir()} without arguments to get a list of names in the current local scope. With an object argument, you get a list of valid attributes for that object.
\begin{lstlisting}[language={}]
>>> dir()
['__builtins__', '__doc__', '__name__', '__package__', 'a', 'b', 'math']
>>> dir(math)
['__doc__', '__name__', '__package__', 'acos', 'acosh', 'asin', 'asinh', 'atan', 
'atan2', 'atanh', 'ceil', 'copysign', 'cos', 'cosh', 'degrees', 'e', 'erf', 
'erfc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod', 'frexp', 'fsum', 
'gamma', 'hypot', 'isinf', 'isnan', 'ldexp', 'lgamma', 'log', 'log10', 'log1p', 
'modf', 'pi', 'pow', 'radians', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc']
>>> 
\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
You can type \lstinline{help()} to get access to Python's extensive interactive documentation.
\begin{lstlisting}[language={}]
>>> help(math)

Help on built-in module math:

NAME
    math

FILE
    (built-in)

DESCRIPTION
    This module is always available.  It provides access to the
    mathematical functions defined by the C standard.

FUNCTIONS
    acos(...)
        acos(x)
        
        Return the arc cosine (measured in radians) of x.
...
   sqrt(...)
        sqrt(x)
        
        Return the square root of x. 
...
DATA
    e = 2.718281828459045
    pi = 3.141592653589793
\end{lstlisting}

\bigskip

You can type \lstinline{exit()} to return to the terminal.
\begin{lstlisting}[language={}]
>>> exit()
$
\end{lstlisting}
\end{frame}

\end{document}
